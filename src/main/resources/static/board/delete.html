<html lang="en">

<head>
    <meta charset="EUC-KR">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</head>
<script type="text/javascript">

        function del(){

        	//데이터 값 선언한다.
            const board_no = document.getElementById("board_no").value; //,value


            axios({
                method:"DELETE", 
                url: '/board/delete/'+board_no, // axios 는 {board_no} 가 아닌 board_no
				data: {"board_no": board_no.value
					}
            }).then((res)=>{
            	 alert("삭제ok"); //작성에 성공하는 알림창을 띄운다.
            	
                console.log(res);
                location.href = "/board/list.html"; // 다시 작성페이지로 돌아간다.
            }).catch(error=>{
            	alert("삭제 fail");
                console.log(error);
                throw new Error(error);
            });
        }
 

</script>
<h1>delete</h1>
<body>
    <table class="table table-hover">
        <tr>
            <td>번호</td>
            <td><input name="board_no" class="form-control" id="board_no" type="text" placeholder="삭제할 게시글의 번호"></td>
        </tr>
        <tr>
            <td><button type="button" id="submit" class="btn btn-primary btn-lg font-weight-bold ml-3 mr-3" onclick="del()">삭제하기</button></td>
        </tr>
     </table>
</body>